{"version":3,"sources":["components/error/error_image.jpg","components/basket/index.js","components/basket/basket.js","components/header/index.js","components/header/header.js","components/card/index.js","components/card/card.js","components/phone-context/phone-context.js","components/hoc/widthDataPhone.js","actions/index.js","components/spinner/index.js","components/spinner/spinner.js","components/error/index.js","components/error/error.js","components/shop/shop.js","components/shop/index.js","components/cart-product/index.js","components/cart-product/cart-product.js","components/checkout/index.js","components/checkout/checkout.js","components/cart/cart.js","components/cart/index.js","components/product-counter/index.js","components/product-counter/product-counter.js","components/product-attr/index.js","components/product-attr/product-attr.js","components/page/phone-single.js","components/app/index.js","components/app/app.js","reducers/index.js","index.js","service/phone-service.js"],"names":["module","exports","__webpack_require__","p","Basket","connect","_ref2","total_price","count_cart","_ref","react_default","a","createElement","className","id","Header","react_router_dom","to","components_basket","Card","price","name","urlImage","concat","src","alt","React","createContext","PhoneConsumer","Consumer","PhoneProvider","Provider","withDataPhone","Wrapped","props","phoneservice","Object","assign","addLoading","loading","type","addError","error","Spinner","style","width","height","Error","img","Shop","list","phones","map","item","components_card","key","ShopContainer","render","_this$props","_this","components_error","components_spinner","shop_Shop","this","fetchPhones","Component","dispatch","ownProperty","getList","then","data","payload","catch","err","CartProduct","count","number","clickMinus","clickPlus","clickDelete","onClick","aria-hidden","Checkout","mapDispatchToProps","deleteCart","plusCart","minusCart","Cart","cart","index","components_cart_product","components_checkout","ProductCounter","state","plusClick","setState","num","isFinite","update","minusClick","counterChange","e","target","value","val","changeCount","onChange","ProductAttr","active","elems","clickAttr","prev","_this2","_this$state","attributes","elem","classNames","role","aria-label","PhoneSingle","descr","PhoneSingleContainer","error_message","attr","product","addClick","message","history","push","obj","addProduct","parseInt","getPhone","_this$state$product","description","_this$state$product$a","_this$props2","text","components_product_attr","components_product_counter","phone_single_PhoneSingle","single","App","components_header","react_router","exact","path","components_shop","component","_ref3","match","params","page_phone_single","initialState","findCartItem","ind","findIndex","cartItem","updateCount","operation","_findCartItem","newProps","updateItem","objectSpread","toConsumableArray","slice","store","createStore","arguments","length","undefined","action","newItem","_findCartItem3","recount","reprice","_findCartItem2","deleteCartItem","service","transformPhone","Promise","resolve","reject","setTimeout","forEach","shop","document","getElementById","ReactDom","es","components_app"],"mappings":"4EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,oWCEzBC,SC4BAC,YAPO,SAAAC,GAClB,MAAM,CACFC,YAF4CD,EAA5BC,YAGhBC,WAH4CF,EAAdE,aAOvBH,CAxBF,SAAAI,GAA8B,IAA5BF,EAA4BE,EAA5BF,YAAcC,EAAcC,EAAdD,WAEzB,OACIE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBC,GAAG,iBAC9BJ,EAAAC,EAAAC,cAAA,KAAGC,UAAU,mCACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,gBACXL,EADL,UAGAE,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAhB,KACGN,EADH,SCZGQ,SCID,WACV,OACIL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yDACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4CACXH,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAMC,GAAG,aAAaJ,UAAU,cAC5BH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,YAEJH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,sBACVH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAMC,GAAG,cAAT,SAIJP,EAAAC,EAAAC,cAAA,UACAF,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAMC,GAAG,kBAAT,WAMRP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACXH,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAMC,GAAG,iBAAiBJ,UAAU,0CAChCH,EAAAC,EAAAC,cAACM,EAAD,mDC3BTC,SCEH,SAAAV,GAAmC,IAAjCW,EAAiCX,EAAjCW,MAASC,EAAwBZ,EAAxBY,KAAOC,EAAiBb,EAAjBa,SAAWR,EAAML,EAANK,GAErC,OACIJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0DACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAMC,GAAE,kBAAAM,OAAoBT,IACxBJ,EAAAC,EAAAC,cAAA,OAAKY,IAAKF,EAAUT,UAAU,0BAA0BY,IAAI,SAEhEf,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAcQ,GAC5BX,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,IAA2BO,GAC3BV,EAAAC,EAAAC,cAAA,UACAC,UAAU,gCACNH,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAMC,GAAE,kBAAAM,OAAoBT,IAA5B,mBCfkCY,IAAMC,gBAA/CC,IAAVC,SAAoCC,IAAXC,SCC1BC,EAAc,kBAAI,SAACC,GACrB,OAAO,SAACC,GACJ,OACIxB,EAAAC,EAAAC,cAACgB,EAAD,KACK,SAACO,GACE,OACIzB,EAAAC,EAAAC,cAACqB,EAADG,OAAAC,OAAA,GAAaH,EAAb,CAAoBC,aAAcA,UCYpDG,EAAW,SAACC,GACd,MAAM,CACFC,KAAM,UACND,YAGFE,EAAS,SAACC,GACZ,MAAM,CACFF,KAAM,QACNE,UC5BOC,SCEC,WAKZ,OACIjC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAAc+B,MAP/B,CACNC,MAAO,OACPC,OAAQ,SAK2CpC,EAAAC,EAAAC,cAAA,YAAWF,EAAAC,EAAAC,cAAA,YAAWF,EAAAC,EAAAC,cAAA,YAAWF,EAAAC,EAAAC,cAAA,YAAWF,EAAAC,EAAAC,cAAA,YAAWF,EAAAC,EAAAC,cAAA,YAAWF,EAAAC,EAAAC,cAAA,YAAWF,EAAAC,EAAAC,cAAA,YAAWF,EAAAC,EAAAC,cAAA,YAAWF,EAAAC,EAAAC,cAAA,YAAWF,EAAAC,EAAAC,cAAA,YAAWF,EAAAC,EAAAC,cAAA,kCCVrKmC,SCED,WACV,OACIrC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,OAAKY,IAAKwB,IAAKvB,IAAI,yCACnBf,EAAAC,EAAAC,cAAA,KAAGC,UAAU,oBAAb,0CCENoC,SAAK,SAAAxC,GAAY,IAEfyC,EAFezC,EAAV0C,OAEOC,IAAI,SAACC,GACjB,OACI3C,EAAAC,EAAAC,cAAC0C,EAADlB,OAAAC,OAAA,GAAUgB,EAAV,CAAgBE,IAAKF,EAAKvC,QAGlC,OACIJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACVqC,MAOXM,6MAQFC,OAAO,WAAI,IAAAC,EACwBC,EAAKzB,MAA/BiB,EADEO,EACFP,OAASZ,EADPmB,EACOnB,QAEd,OAHOmB,EACiBhB,MAGZhC,EAAAC,EAAAC,cAACgD,EAAD,MAETrB,EACS7B,EAAAC,EAAAC,cAACiD,EAAD,MAIRnD,EAAAC,EAAAC,cAACkD,EAAD,CAAMX,OAAQA,yFAflBY,KAAK7B,MAAM8B,qBAJSC,aCzBbhB,EDyEAjB,IAAgB3B,YAvBT,SAAAC,GAClB,MAAM,CACF6C,OAF4C7C,EAA5B6C,OAEPZ,QAFmCjC,EAAnBiC,QAENG,MAFyBpC,EAAToC,QAKlB,SAACwB,EAAWC,GAAc,IAC1ChC,EAAcgC,EAAdhC,aACL,MAAM,CACF6B,YAAY,WACRE,EAAS5B,GAAW,IAEpBH,EAAaiC,UACZC,KAAK,SAAAC,GACFJ,EL/DL,CACH1B,KAAM,eACN+B,QK6D6BD,MAExBE,MAAM,SAACC,GACJP,EAASzB,EAASgC,SAOHpE,CAA8CmD,IEzE9DkB,ECCI,SAAAjE,GAA0E,IAAxEY,EAAwEZ,EAAxEY,KAAOsD,EAAiElE,EAAjEkE,MAAQvD,EAAyDX,EAAzDW,MAAQwD,EAAiDnE,EAAjDmE,OAASC,EAAwCpE,EAAxCoE,WAAaC,EAA2BrE,EAA3BqE,UAAYC,EAAetE,EAAfsE,YAC1E,OACIrE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAe+D,IAEnClE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAaQ,IAEjCX,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAc8D,IAElCjE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAcO,IAElCV,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uDACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,UACAoE,QAASH,EACTrC,KAAK,SAAS3B,UAAU,cACpBH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBAEjBH,EAAAC,EAAAC,cAAA,UACAoE,QAASF,EACTtC,KAAK,SAAS3B,UAAU,cACpBH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBAEjBH,EAAAC,EAAAC,cAAA,UACAoE,QAASD,EACTvC,KAAK,SAAS3B,UAAU,iCACpBH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,cAAcoE,cAAY,eChCpDC,ECwBA7E,YAJO,SAAAC,GAClB,MAAO,CAACC,YAD2BD,EAAfC,cAITF,CAvBA,SAAAI,GAAiB,IAAfF,EAAeE,EAAfF,YACb,OACIG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAhB,YACAH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAhB,KAAiCN,IAErCG,EAAAC,EAAAC,cAAA,UAAQ4B,KAAK,SAAS3B,UAAU,gCAC5BH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kCACbH,EAAAC,EAAAC,cAAA,+BCmDtBuE,SAAmB,CACjBC,WXtBS,SAACtE,GACd,MAAM,CACF0B,KAAM,cACN1B,OWoBAuE,SX7BO,SAACvE,GACZ,MAAM,CACF0B,KAAM,YACN1B,OW2BAwE,UXpCQ,SAACxE,GACb,MAAM,CACF0B,KAAM,aACN1B,SYlCOyE,EDsEAlF,YAXO,SAAAC,GAClB,MAAM,CACFkF,KAFwBlF,EAARkF,OAWiBL,EAA1B9E,CA9DF,SAAAI,GAA8C,IAA5C+E,EAA4C/E,EAA5C+E,KAAOH,EAAqC5E,EAArC4E,SAAWC,EAA0B7E,EAA1B6E,UAAYF,EAAc3E,EAAd2E,WAGrCd,EAAKkB,EAAKpC,IAAI,SAACC,EAAOoC,GAAQ,IACzB3E,EAAIuC,EAAJvC,GACL,OACIJ,EAAAC,EAAAC,cAAC8E,EAADtD,OAAAC,OAAA,CACAkB,IAAKF,EAAKhC,KACVuD,OAAQa,EAAM,GACVpC,EAHJ,CAIAyB,UAAW,kBAAIO,EAASvE,IACxB+D,WAAY,kBAAIS,EAAUxE,IAC1BiE,YAAa,kBAAIK,EAAWtE,SAGpC,OACIJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAd,cACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAhB,MAEJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAhB,SAEJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAhB,UAEJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAhB,UAEJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAhB,aAIZH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXyD,IAGZ5D,EAAAC,EAAAC,cAAC+E,EAAD,iBEjDOC,oNCGXC,MAAM,CACFlB,MAAM,KAEVmB,UAAU,WACNnC,EAAKoC,SAAS,SAAAtF,GAAW,IAATkE,EAASlE,EAATkE,MACRqB,EAAIC,SAAStB,KAAWA,EAAQ,EAEpC,OADAhB,EAAKuC,OAAOF,GACL,CACHrB,MAAOqB,QAInBG,WAAW,WACPxC,EAAKoC,SAAS,SAAAzF,GAAW,IAATqE,EAASrE,EAATqE,MAERqB,EAAI,EAMR,OALGC,SAAStB,KACRqB,EAAIrB,EAAM,IAAMA,EAAQ,GAG5BhB,EAAKuC,OAAOF,GACL,CACHrB,MAAMqB,QAKlBI,cAAc,SAACC,GACX1C,EAAKoC,SAAS,CAACpB,MAAO0B,EAAEC,OAAOC,QAC/B5C,EAAKuC,OAAOG,EAAEC,OAAOC,UAGzBL,OAAO,SAACM,GACJ7C,EAAKzB,MAAMuE,YAAYD,4EAGvB,IAAI7B,EAAMZ,KAAK8B,MAAMlB,MACrB,OACIjE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAAA,UACAoE,QAASjB,KAAKoC,WACdtF,UAAU,yBACNH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBAEjBH,EAAAC,EAAAC,cAAA,SACA8F,SAAU3C,KAAKqC,cACfvF,UAAU,gBAAgB0F,MAAO5B,IAEjCjE,EAAAC,EAAAC,cAAA,UACAoE,QAASjB,KAAK+B,UACdjF,UAAU,wBACNH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBApDJoD,cCHd0C,6MCCXd,MAAM,CACFe,OAAO,GACPC,MAAMlD,EAAKzB,MAAMoC,QAYrBwC,UAAU,SAACF,GAEPjD,EAAKoC,SAAS,CAACa,WACfjD,EAAKzB,MAAM4E,UAAUF,wFAbL,IACXtC,EAAMP,KAAK7B,MAAXoC,KACLP,KAAKgC,SAAS,CAACc,MAAMvC,+CAENyC,GACZA,EAAKzC,OAAOP,KAAK7B,MAAMoC,MACtBP,KAAKgC,SAAS,CAACc,MAAM9C,KAAK7B,MAAMoC,wCAShC,IAAA0C,EAAAjD,KAAAkD,EACiBlD,KAAK8B,MAArBgB,EADDI,EACCJ,MAAQD,EADTK,EACSL,OACTM,EAAWL,EAAMzD,IAAI,SAAA+D,GACrB,IAAIC,EAAW,qCAIf,OAHGR,IAASO,IACRC,GAAY,eAGZ1G,EAAAC,EAAAC,cAAA,UACAoE,QAAS,WAAKgC,EAAKF,UAAUK,IAC7B5D,IAAK4D,EAAM3E,KAAK,SAAS3B,UAAWuG,GAAaD,KAGzD,OACIzG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BAA8BwG,KAAK,QAAQC,aAAW,cAChEJ,UAnCSjD,aCQpBsD,SAAY,SAAA9G,GAAiB,IAAfuC,EAAevC,EAAfuC,IAAMwE,EAAS/G,EAAT+G,MACtB,OACI9G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACVmC,IAGTtC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACV2G,OAQfC,6MAGF5B,MAAM,CACF6B,cAAc,GACd/C,MAAM,EACNgD,KAAK,GACLC,QAAQ,MAeZC,SAAS,WAAI,IAAAZ,EACoBtD,EAAKkC,MAA7BlB,EADIsC,EACJtC,MAAQgD,EADJV,EACIU,KAAOC,EADXX,EACWW,QAChBE,EAAQ,GAEZ,GAAGnD,GAAQ,GAAKsB,SAAStB,IAAiB,KAAPgD,EAAU,CACzChE,EAAKoC,SAAS,CAAC2B,cAAe,KAC9B/D,EAAKzB,MAAM6F,QAAQC,KAAK,mBACxB,IAAIC,EAAI7F,OAAOC,OAAOuF,EAAU,CAACjD,UACjChB,EAAKzB,MAAMgG,WAAWD,QAGnBtD,EAAO,IAAMsB,SAAStB,GACrBmD,EAAQ,qJAEG,KAAPH,IACJG,EAAQ,+FAGZnE,EAAKoC,SAAS,CAAC2B,cAAeI,OAQtChB,UAAU,SAACa,GACPhE,EAAKoC,SAAS,CAAC4B,YAEnBlB,YAAY,SAACT,GACTrC,EAAKoC,SAAS,CAACpB,MAAOwD,SAASnC,0FA3Cf,IAAAgB,EAAAjD,KACjBA,KAAK7B,MAAMI,YAAW,GADL,IAAAoB,EAEkBK,KAAK7B,MAAnCpB,EAFY4C,EAEZ5C,GAAKqB,EAFOuB,EAEPvB,aAAeM,EAFRiB,EAEQjB,SACzBN,EAAaiG,SAAStH,GACrBuD,KAAK,SAAAC,GACD0C,EAAKjB,SAAS,CAAC6B,QAAStD,IACxB0C,EAAK9E,MAAMI,YAAW,KAE1BkC,MAAM,SAACC,GACHhC,EAASgC,sCAqCT,IAAA4D,EACoDtE,KAAK8B,MAAM+B,QAA9DvG,EADDgH,EACChH,KAAOD,EADRiH,EACQjH,MAAQE,EADhB+G,EACgB/G,SAAWgH,EAD3BD,EAC2BC,YAD3BC,EAAAF,EACyCV,YADzC,IAAAY,EAC8C,GAD9CA,EAECb,EAAe3D,KAAK8B,MAApB6B,cAFDc,EAGkBzE,KAAK7B,MAAtBK,EAHDiG,EAGCjG,QACL,GAJIiG,EAGW9F,MAEX,OAAQhC,EAAAC,EAAAC,cAACgD,EAAD,MAEZ,IAAM6E,EACF/H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBACTQ,GAELX,EAAAC,EAAAC,cAAA,QAAMC,UAAU,iBAAhB,IAAkCO,GAElCV,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBAAiByH,GAG1B5H,EAAAC,EAAAC,cAAC8H,EAAD,CAAapE,KAAMqD,EAAMb,UAAW/C,KAAK+C,YAE7CpG,EAAAC,EAAAC,cAAC+H,EAAD,CAAgBlC,YAAa1C,KAAK0C,cAClC/F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,UAAQoE,QAASjB,KAAK8D,SAAUrF,KAAK,SAAS3B,UAAU,kCACpDH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wCAAwCoE,cAAY,SADrE,IACiFvE,EAAAC,EAAAC,cAAA,6BAGrFF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBACR6G,IAOT1E,EAAIT,EAAU7B,EAAAC,EAAAC,cAACiD,EAAD,MAAanD,EAAAC,EAAAC,cAAA,OAAKY,IAAKF,EAAUG,IAAI,iDACnD+F,EAAMjF,EAAU7B,EAAAC,EAAAC,cAACiD,EAAD,MAAa4E,EAEjC,OACI/H,EAAAC,EAAAC,cAACgI,EAAD,CAAa5F,IAAKA,EAAKwE,MAAOA,WA5FPvD,aAsG7BkB,EAAmB,CACpB+C,WjBpHY,SAACN,GACd,MAAM,CACFpF,KAAM,cACNoF,QAASA,IiBiHCtF,aAAaG,YAGhBT,MAAgB3B,YATT,SAAAC,GAClB,MAAO,CACHuI,OAF4CvI,EAA5BuI,OAEPtG,QAFmCjC,EAAnBiC,QAENG,MAFyBpC,EAAToC,QAScyC,EAA1B9E,CAA8CoH,ICpI9DqB,EC8BA9G,IAvBL,SAAAvB,GAAkB,IAAhB0B,EAAgB1B,EAAhB0B,aACR,OACIzB,EAAAC,EAAAC,cAAA,WAEIF,EAAAC,EAAAC,cAACmI,EAAD,MACArI,EAAAC,EAAAC,cAACoI,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,aAAazF,OAAQ,SAAAnD,GAClC,OAD+CA,EAAXyH,QAEhCrH,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACuI,EAAD,CAAM7E,KAAMnC,EAAaiC,gBAItC1D,EAAAC,EAAAC,cAACoI,EAAA,EAAD,CAAOE,KAAK,kBAAkBE,UAAW7D,IACzC7E,EAAAC,EAAAC,cAACoI,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,qBAAqBzF,OAAQ,SAAA4F,GAAqB,IAAnBC,EAAmBD,EAAnBC,MAAQvB,EAAWsB,EAAXtB,QAChDjH,EAAIwI,EAAMC,OAAVzI,GACL,OAAOJ,EAAAC,EAAAC,cAAC4I,EAAD,CAAa1I,GAAIA,EAAIiH,QAASA,kCCxB/C0B,EAAa,CACftG,OAAO,GACPZ,SAAQ,EACR/B,WAAY,EACZD,YAAa,EACbiF,KAAK,GACL9C,MAAM,MAGJgH,EAAa,SAAC5I,EAAK+E,GACrB,IAAI8D,EAAI9D,EAAML,KAAKoE,UAAU,SAACvG,GAAD,OAAQvC,IAAKuC,EAAKvC,KAE/C,MAAO,CACH6I,MAAIE,SAFKhE,EAAML,KAAKmE,KAKtBG,EAAY,SAAChJ,EAAK+E,EAAQkE,GAAY,IAAAC,EAElBN,EAAa5I,EAAK+E,GAAnC8D,EAFmCK,EAEnCL,IAAOE,EAF4BG,EAE5BH,SAEPlF,EAAekF,EAAflF,MAAQvD,EAAOyI,EAAPzI,MAET6I,EAAS,CACTtF,MAAqB,SAAdoF,IAAyBpF,IAAUA,GAE1CuF,EAAW9H,OAAOC,OAAOwH,EAAWI,GAGpC1J,EAA0B,SAAdwJ,EAAuBlE,EAAMtF,YAAYa,EAAQyE,EAAMtF,YAAYa,EAEnF,OAAOgB,OAAA+H,EAAA,EAAA/H,CAAA,GACAyD,EADP,CAEItF,cACAiF,KAAI,GAAAjE,OAAAa,OAAAgI,EAAA,EAAAhI,CACGyD,EAAML,KAAK6E,MAAM,EAAIV,IADxB,CAEAO,GAFA9H,OAAAgI,EAAA,EAAAhI,CAGGyD,EAAML,KAAK6E,MAAMV,EAAI,QCxB9BW,EAAQC,YD+CA,WAA+B,IAA9B1E,EAA8B2E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAxBf,EAAekB,EAASH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAErC,OAAOC,EAAOnI,MACV,IAAK,UACD,OAAOJ,OAAA+H,EAAA,EAAA/H,CAAA,GACAyD,EADP,CAEInD,MAAM,KACNH,QAAQoI,EAAOpI,UAGvB,IAAK,eACD,OAAOH,OAAA+H,EAAA,EAAA/H,CAAA,GACAyD,EADP,CAEInD,MAAM,KACNS,OAAQwH,EAAOpG,QACfhC,SAAQ,IAGhB,IAAK,QACD,OAAOH,OAAA+H,EAAA,EAAA/H,CAAA,GACAyD,EADP,CAEItD,SAAQ,EACRG,MAAOiI,EAAOjI,QAItB,IAAK,cAAgB,IAWbkI,EATChD,EAAS+C,EAAT/C,QACAxG,EAA2BwG,EAA3BxG,MAAQuD,EAAmBiD,EAAnBjD,MAAQ7D,EAAW8G,EAAX9G,GAAKO,EAAMuG,EAANvG,KAEtBb,EAAWqF,EAAMrF,WAAWmE,EAC5BpE,EAAYsF,EAAMtF,YAAaa,EAAMuD,EANxBkG,EASKnB,EAAa5I,EAAK+E,GAAnC8D,EATYkB,EASZlB,IAAOE,EATKgB,EASLhB,SAIZ,GAAGA,EAAS,CAER,IAAIiB,EAAQnG,EAAMkF,EAASlF,MAEvBoG,EAAQlB,EAASzI,MAErBwJ,EAAQxI,OAAA+H,EAAA,EAAA/H,CAAA,GACDyH,EADA,CAEHlF,MAAMmG,EACN1J,MAAM2J,SAIVH,EAAQ,CACJvJ,OACAsD,QACAvD,QACAN,MAIR,OAAG6I,EAAI,EACHvH,OAAA+H,EAAA,EAAA/H,CAAA,GACOyD,EADP,CAEIrF,aACAD,cACAiF,KAAI,GAAAjE,OAAAa,OAAAgI,EAAA,EAAAhI,CACGyD,EAAML,MADT,CACgBoF,MAMxBxI,OAAA+H,EAAA,EAAA/H,CAAA,GACOyD,EADP,CAEIrF,aACAD,cACAiF,KAAI,GAAAjE,OAAAa,OAAAgI,EAAA,EAAAhI,CACGyD,EAAML,KAAK6E,MAAM,EAAIV,IADxB,CAEAiB,GAFAxI,OAAAgI,EAAA,EAAAhI,CAGGyD,EAAML,KAAK6E,MAAMV,EAAI,OAYxC,IAAK,aAAa,IACT7I,EAAI6J,EAAJ7J,GACL,OAAOgJ,EAAYhJ,EAAK+E,EAAQ,SAGpC,IAAK,YAAY,IACR/E,EAAI6J,EAAJ7J,GACL,OAAOgJ,EAAYhJ,EAAK+E,EAAQ,QAGpC,IAAK,cACD,OAzHK,SAAC/E,EAAK+E,GAAQ,IAAAmF,EAETtB,EAAa5I,EAAK+E,GAAnC8D,EAF0BqB,EAE1BrB,IAAOE,EAFmBmB,EAEnBnB,SAERtJ,EAAYsF,EAAMtF,YAAasJ,EAASlF,MAAMkF,EAASzI,MACvDZ,EAAWqF,EAAMrF,WAAWqJ,EAASlF,MACzC,OAAOvC,OAAA+H,EAAA,EAAA/H,CAAA,GACAyD,EADP,CAEItF,cACAC,aACAgF,KAAI,GAAAjE,OAAAa,OAAAgI,EAAA,EAAAhI,CACGyD,EAAML,KAAK6E,MAAM,EAAIV,IADxBvH,OAAAgI,EAAA,EAAAhI,CAEGyD,EAAML,KAAK6E,MAAMV,EAAI,OA6GbsB,CAAeN,EAAO7J,GAAK+E,GAEtC,QAAU,OAAOA,KCtJvBqF,EAAQ,qDCVV/H,OAAO,CACH,CACI9B,KAAM,eACND,MAAO,IACPE,SAAU,eACVR,GAAI,EACJ6G,KAAK,CAAC,QAAS,OAAS,QACxBW,YAAa,2IAEjB,CACIjH,KAAM,mBACND,MAAO,IACPE,SAAU,eACVR,GAAG,EACH6G,KAAK,CAAC,QAAS,OAAS,OAAS,UACjCW,YAAa,2IAEjB,CACIjH,KAAM,YACND,MAAO,IACPE,SAAU,eACVR,GAAG,EACH6G,KAAK,CAAC,QAAS,QACfW,YAAa,2IAEjB,CACIjH,KAAM,YACND,MAAO,IACPE,SAAU,eACVR,GAAG,EACH6G,KAAK,CAAC,QAAS,QACfW,YAAa,iJAIrBlE,QAAQ,WACJ,IAAIE,EAAKX,EAAKR,OAAOC,IAAIO,EAAKwH,gBAC9B,OAAO,IAAIC,QAAQ,SAACC,EAAUC,GAC1BC,WAAW,WACPF,EAAQ/G,IAER,aAGZ8D,SAAS,SAACtH,GACN,IAAImH,EAAI,GAMR,OALAtE,EAAKR,OAAOqI,QAAQ,SAACnI,GACdA,EAAKvC,IAAIA,IACRmH,EAAI5E,KAGL,IAAI+H,QAAQ,SAACC,EAAUC,GAC1BC,WAAW,WACRF,EAAQpD,IAER,aAKXkD,eAAe,SAAC9H,GACZ,MAAO,CACHhC,KAAKgC,EAAKhC,KACVD,MAAOiC,EAAKjC,MACZE,SAAU+B,EAAK/B,SACfR,GAAIuC,EAAKvC,MDrDjB2K,EAAKC,SAASC,eAAe,gBAEjCC,IAASnI,OACL/C,EAAAC,EAAAC,cAACiL,EAAA,EAAD,CAAUvB,MAAOA,GACb5J,EAAAC,EAAAC,cAACkB,EAAD,CAAeyE,MAAO2E,GAClBxK,EAAAC,EAAAC,cAACI,EAAA,EAAD,KACIN,EAAAC,EAAAC,cAACkL,EAAD,SAIdL","file":"static/js/main.3adc4384.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/error_image.2d35a47a.jpg\";","import Basket from './basket';\r\n\r\nexport default Basket;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport './basket.css';\r\n\r\n\r\n\r\nconst Basket=({total_price , count_cart})=>{\r\n\r\n    return(\r\n        <div className=\"basket-header\" id=\"basket-header\">\r\n            <i className=\"fa fa-shopping-basket basket-i\"></i>\r\n            <span className=\"basket-count\">\r\n                {count_cart} items\r\n            </span>\r\n            <span className=\"basket-cost\">\r\n            (${total_price})\r\n            </span>\r\n        </div>\r\n    );\r\n    \r\n}\r\n\r\n\r\nconst mapStateToProps=({total_price , count_cart})=>{\r\n    return{\r\n        total_price,\r\n        count_cart,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Basket);","import Header from './header';\r\n\r\nexport default Header;","import React from 'react';\r\nimport Basket from '../basket';\r\nimport './header.css';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nconst Header =()=>{\r\n    return (\r\n        <div className=\"header\">\r\n            <div className=\"row d-flex align-items-center justify-content-between\">\r\n                <div className=\"col-sm-8 col-7 d-flex align-items-center\">\r\n                    <Link to=\"/re-store/\" className=\"title_link\">\r\n                        <h3 className=\"store-title\">ReStore</h3>\r\n                    </Link> \r\n                    <ul className=\"menu-store d-flex \">\r\n                        <li>\r\n                            <Link to=\"/re-store/\">\r\n                                Shop\r\n                            </Link>\r\n                        </li>\r\n                        <li>\r\n                        <Link to=\"/re-store/cart\">\r\n                                Cart\r\n                            </Link>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"col-md-3 col-sm-4 col-5\">\r\n                    <Link to=\"/re-store/cart\" className=\"basket_link d-flex justify-content-end\">\r\n                        <Basket />\r\n                    </Link>   \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;","import Card from './card';\r\n\r\nexport default Card;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport './card.css';\r\n\r\nconst Card =({price  , name , urlImage , id})=>{\r\n\r\n    return (\r\n        <div className=\"col-md-4 col-sm-6 col-12 d-flex justify-content-center\">\r\n            <div className=\"card\">\r\n                <Link to={`/re-store/shop/${id}`}>\r\n                    <img src={urlImage} className=\"card-img-top card-image\" alt=\"...\"/>\r\n                </Link>\r\n                <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">{name}</h5>\r\n                    <p className=\"card-text\">${price}</p>\r\n                    <button\r\n                    className=\"btn btn-primary btn-add-cart\">\r\n                        <Link to={`/re-store/shop/${id}`}>\r\n                            Buy now\r\n                         </Link>\r\n                    </button>\r\n                </div>\r\n            </div>     \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\n\r\nconst {Consumer: PhoneConsumer, Provider : PhoneProvider}=React.createContext();\r\n\r\nexport {\r\n    PhoneConsumer,\r\n    PhoneProvider\r\n}","import React from 'react';\r\nimport {PhoneConsumer} from '../phone-context';\r\n\r\nconst withDataPhone=()=>(Wrapped)=>{\r\n    return (props)=>{\r\n        return(\r\n            <PhoneConsumer>\r\n                {(phoneservice)=>{\r\n                    return(\r\n                        <Wrapped {...props} phoneservice={phoneservice}/>\r\n                    );\r\n                }}\r\n            </PhoneConsumer>\r\n        );\r\n    }\r\n}\r\n\r\nexport {\r\n    withDataPhone\r\n};","\r\nconst phoneLoaded=(newBooks)=>{\r\n    return {\r\n        type: 'phone_loaded',\r\n        payload: newBooks\r\n    }\r\n}\r\n\r\nconst addPrice=(price)=>{\r\n    return{\r\n        type: 'add_price',\r\n        price: price\r\n    }\r\n}\r\n\r\nconst addProduct=(product)=>{\r\n    return{\r\n        type: 'add_product',\r\n        product: product\r\n    }\r\n}\r\nconst addLoading=(loading)=>{\r\n    return{\r\n        type: 'loading',\r\n        loading\r\n    }\r\n}\r\nconst addError=(error)=>{\r\n    return{\r\n        type: 'error',\r\n        error,\r\n    }\r\n}\r\nconst minusCart=(id)=>{\r\n    return{\r\n        type: 'minus_cart',\r\n        id,\r\n    }\r\n}\r\nconst plusCart=(id)=>{\r\n    return{\r\n        type: 'plus_cart',\r\n        id,\r\n    }\r\n}\r\nconst deleteCart=(id)=>{\r\n    return{\r\n        type: 'delete_cart',\r\n        id,\r\n    }\r\n}\r\nexport {\r\n    phoneLoaded,\r\n    addPrice,\r\n    addProduct,\r\n    addLoading,\r\n    addError,\r\n    minusCart,\r\n    plusCart,\r\n    deleteCart,\r\n\r\n    \r\n}","import Spinner from './spinner';\r\n\r\nexport default Spinner;","import React from 'react';\r\nimport './spinner.css';\r\n\r\n\r\nconst Spinner = ()=>{\r\n    let style={\r\n        width: '100%',\r\n        height: '100%'\r\n    }\r\n    return(\r\n        <div className=\"spinner\">\r\n            <div className=\"lds-css ng-scope\">\r\n                <div className=\"lds-spinner\" style={style}><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Spinner;","import Error from './error';\r\n\r\nexport default Error;","import React from 'react';\r\nimport img from './error_image.jpg';\r\nimport './error.css';\r\n\r\nconst Error = ()=>{\r\n    return(\r\n        <div className=\"error-block\">\r\n            <img src={img} alt=\"Ошибка\"/>\r\n            <p className=\"error-block-text\">We apologize for the inconvenience.</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Error;","import React,  {Component} from 'react';\r\nimport Card from '../card';\r\nimport {connect} from 'react-redux';\r\nimport {withDataPhone} from '../hoc';\r\nimport {phoneLoaded , addLoading , addError} from '../../actions';\r\nimport Spinner from '../spinner';\r\nimport Error from '../error';\r\nimport './shop.css';\r\n\r\n\r\nconst Shop=({phones})=>{\r\n\r\n    let list=phones.map((item)=>{\r\n        return(\r\n            <Card {...item} key={item.id} />\r\n        );\r\n    });\r\n    return(\r\n        <div className=\"shop-content\">\r\n            <div className=\"row\">\r\n                {list}\r\n            </div>\r\n        </div>      \r\n    );\r\n}\r\n\r\n\r\nclass ShopContainer extends Component{\r\n\r\n\r\n    componentWillMount(){\r\n        this.props.fetchPhones();\r\n    }\r\n\r\n\r\n    render=()=>{\r\n        let {phones , loading , error}=this.props;\r\n\r\n        if(error){\r\n            return (<Error/>);\r\n        }\r\n        if(loading){\r\n            return (<Spinner/>);\r\n        }\r\n        \r\n        return (\r\n            <Shop phones={phones}/>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps=({phones , loading , error})=>{\r\n    return{\r\n        phones , loading , error\r\n    }\r\n}\r\nconst mapDispatchToProps=(dispatch , ownProperty)=>{\r\n    let {phoneservice}=ownProperty;\r\n    return{\r\n        fetchPhones:()=>{\r\n            dispatch(addLoading(true));\r\n\r\n            phoneservice.getList()\r\n            .then(data=>{\r\n                dispatch(phoneLoaded(data));\r\n            })\r\n            .catch((err)=>{\r\n                dispatch(addError(err));\r\n            });\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nexport default withDataPhone()(connect(mapStateToProps , mapDispatchToProps)(ShopContainer));","import Shop from './shop';\r\n\r\nexport default Shop;","import CartProduct from './cart-product';\r\n\r\nexport default CartProduct;","import React from 'react';\r\n\r\n\r\nconst CartProduct =({name , count , price , number , clickMinus , clickPlus , clickDelete})=>{\r\n    return(\r\n        <div className=\"cart-product\">\r\n            <div className=\"row\">\r\n                <div className=\"col-1\">\r\n                    <span className=\"cart-number\">{number}</span>\r\n                </div>\r\n                <div className=\"col-3\">\r\n                    <span className=\"cart-name\">{name}</span>\r\n                </div>\r\n                <div className=\"col-2\">\r\n                    <span className=\"cart-count\">{count}</span>\r\n                </div>\r\n                <div className=\"col-2\">\r\n                    <span className=\"cart-price\">{price}</span>\r\n                </div>\r\n                <div className=\"col-4 d-flex align-items-center justify-content-end\">\r\n                    <div className=\"cart-action\">\r\n                        <button\r\n                        onClick={clickMinus}\r\n                        type=\"button\" className=\"btn-action\">\r\n                            <i className=\"fa fa-minus\"></i>\r\n                        </button>\r\n                        <button\r\n                        onClick={clickPlus}\r\n                        type=\"button\" className=\"btn-action\">\r\n                            <i className=\"fa fa-plus\"></i>\r\n                        </button>\r\n                        <button \r\n                        onClick={clickDelete}\r\n                        type=\"button\" className=\"btn-action btn-remove-product\">\r\n                            <i className=\"fa fa-times\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CartProduct;","import Checkout from './checkout';\r\n\r\nexport default Checkout;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nconst Checkout=({total_price})=>{\r\n    return(\r\n        <div className=\"checkout\">\r\n            <div className=\"row\">\r\n                <div className=\"col-12 d-flex justify-content-end\">\r\n                    <div className=\"total-block\">\r\n                        <div>\r\n                            <span className=\"total-title\">Total : </span>\r\n                            <span className=\"total-price\"> ${total_price}</span>\r\n                        </div>\r\n                        <button type=\"button\" className=\"btn btn-primary btn-checkout\">\r\n                            <i className=\"fa fa-shopping-cart cart-icon\"></i>\r\n                            <span>Checkout</span></button>\r\n                    </div> \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nconst mapStateToProps=({total_price})=>{\r\n    return {total_price};\r\n}\r\n\r\nexport default connect(mapStateToProps)(Checkout);","import React from 'react';\r\nimport CartProduct from '../cart-product';\r\nimport Checkout from '../checkout';\r\nimport {connect} from 'react-redux';\r\nimport {minusCart , plusCart , deleteCart} from '../../actions';\r\nimport './cart.css';\r\n\r\n\r\n\r\n\r\nconst Cart = ({cart , plusCart , minusCart , deleteCart})=>{\r\n\r\n\r\n    let data=cart.map((item , index)=>{\r\n        let {id}=item;\r\n        return (\r\n            <CartProduct \r\n            key={item.name} \r\n            number={index+1} \r\n            {...item} \r\n            clickPlus={()=>plusCart(id)} \r\n            clickMinus={()=>minusCart(id)} \r\n            clickDelete={()=>deleteCart(id)}/>\r\n        );\r\n    });\r\n    return(\r\n        <div className=\"cart\">\r\n            <h4 className=\"cart-title\">Your Order</h4>\r\n            <div className=\"cart-table\">\r\n                <div className=\"cart-table-head\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-1\">\r\n                            <span className=\"cart-number\">#</span>\r\n                        </div>\r\n                        <div className=\"col-3\">\r\n                            <span className=\"cart-name\">Item</span>\r\n                        </div>\r\n                        <div className=\"col-2\">\r\n                            <span className=\"cart-count\">Count</span>\r\n                        </div>\r\n                        <div className=\"col-2\">\r\n                            <span className=\"cart-price\">Price</span>\r\n                        </div>\r\n                        <div className=\"col-4 d-flex justify-content-end\">\r\n                            <span className=\"cart-action\">Action</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"cart-table-body\">\r\n                   {data}\r\n                </div>\r\n            </div>\r\n        <Checkout/>\r\n\r\n\r\n        </div>\r\n        \r\n        \r\n    );\r\n}\r\n\r\nconst mapStateToProps=({cart})=>{\r\n    return{\r\n        cart\r\n    }\r\n}\r\nconst mapDispatchToProps={\r\n        deleteCart,\r\n        plusCart,\r\n        minusCart\r\n}\r\n\r\nexport default connect(mapStateToProps , mapDispatchToProps)(Cart);","import Cart from './cart';\r\n\r\nexport default Cart;","import ProductCounter from './product-counter';\r\n\r\n\r\nexport default ProductCounter;","import React , {Component} from 'react';\r\n\r\nimport './product-counter.css';\r\n\r\n\r\nclass ProductCounter extends Component{\r\n    state={\r\n        count:1\r\n    }\r\n    plusClick=()=>{\r\n        this.setState(({count})=>{\r\n            let num=isFinite(count) ? ++count : 1;\r\n            this.update(num);\r\n            return {\r\n                count: num\r\n            }\r\n        });\r\n    }\r\n    minusClick=()=>{\r\n        this.setState(({count})=>{\r\n           \r\n            let num=1;\r\n            if(isFinite(count)){\r\n                num=count>1 ? --count : 1;\r\n            }\r\n            \r\n            this.update(num);\r\n            return {\r\n                count:num\r\n            }\r\n        });\r\n    \r\n    }\r\n    counterChange=(e)=>{\r\n        this.setState({count: e.target.value});\r\n        this.update(e.target.value);\r\n        \r\n    }\r\n    update=(val)=>{\r\n        this.props.changeCount(val);\r\n    }\r\n    render(){\r\n        let count=this.state.count;\r\n        return(\r\n            <div className=\"product-counter\">\r\n                <button \r\n                onClick={this.minusClick}\r\n                className=\"btn-counter btn-minus\">\r\n                    <i className=\"fa fa-minus\"></i>\r\n                </button>\r\n                <input\r\n                onChange={this.counterChange}\r\n                className=\"input-counter\" value={count}/>\r\n                \r\n                <button \r\n                onClick={this.plusClick}\r\n                className=\"btn-counter btn-plus\">\r\n                    <i className=\"fa fa-plus\"></i>\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default ProductCounter;","import ProductAttr from './product-attr';\r\n\r\nexport default ProductAttr;","import React , {Component} from 'react';\r\n\r\nclass ProductAttr extends Component{\r\n    state={\r\n        active:'',\r\n        elems:this.props.data\r\n    }\r\n    componentWillMount(){\r\n        let {data}=this.props;\r\n        this.setState({elems:data});\r\n    }\r\n    componentDidUpdate(prev){\r\n        if(prev.data!==this.props.data){\r\n            this.setState({elems:this.props.data});\r\n        }\r\n    }\r\n    \r\n    clickAttr=(active)=>{\r\n        \r\n        this.setState({active});\r\n        this.props.clickAttr(active);\r\n    }\r\n    render(){\r\n        let {elems , active}=this.state;\r\n        let attributes=elems.map(elem=>{\r\n            let classNames=\"btn btn-secondary btn-product-attr\";\r\n            if(active===elem)\r\n                classNames+=\" btn-active\";\r\n\r\n            return(\r\n                <button\r\n                onClick={()=>{this.clickAttr(elem)}}\r\n                key={elem} type=\"button\" className={classNames}>{elem}</button>\r\n            );\r\n        });\r\n        return(\r\n            <div className=\"btn-group btn-product-group\" role=\"group\" aria-label=\"Attributes\">\r\n                {attributes}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductAttr;","import React , {Component} from 'react';\r\nimport ProductCounter from '../product-counter';\r\nimport ProductAttr from '../product-attr';\r\nimport {withDataPhone} from '../hoc';\r\nimport {connect} from 'react-redux';\r\nimport {addProduct , addLoading , addError} from '../../actions';\r\nimport Spinner from '../spinner';\r\nimport Error from '../error';\r\nimport './phone-single.css';\r\n\r\nconst PhoneSingle=({img , descr})=>{\r\n    return(\r\n        <div className=\"single-page\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                    <div className=\"product_ceil\">\r\n                        {img}\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                    {descr} \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nclass PhoneSingleContainer extends Component{\r\n\r\n\r\n    state={\r\n        error_message:'',\r\n        count:1,\r\n        attr:'',\r\n        product:{}\r\n    }\r\n    componentWillMount(){\r\n       this.props.addLoading(true);\r\n       let {id , phoneservice , addError}=this.props;\r\n       phoneservice.getPhone(id)\r\n       .then(data=>{\r\n            this.setState({product: data});\r\n            this.props.addLoading(false);\r\n       })\r\n       .catch((err)=>{\r\n            addError(err);\r\n        });\r\n       \r\n    }\r\n    addClick=()=>{\r\n        let {count , attr , product}=this.state;\r\n        let message=\"\";\r\n        \r\n        if(count >=1 && isFinite(count) && attr!==''){\r\n            this.setState({error_message: ''});\r\n            this.props.history.push('/re-store/cart/');\r\n            let obj=Object.assign(product , {count});\r\n            this.props.addProduct(obj);\r\n        }\r\n        else{\r\n            if(count <1 || !isFinite(count)){\r\n                message=\"Неверное количество товара\";\r\n            }\r\n            else if(attr===''){\r\n                message=\"Выберете атрибут\";\r\n            }\r\n\r\n            this.setState({error_message: message});\r\n\r\n        }\r\n        \r\n        \r\n\r\n        \r\n    }\r\n    clickAttr=(attr)=>{\r\n        this.setState({attr});\r\n    }\r\n    changeCount=(num)=>{\r\n        this.setState({count: parseInt(num)});\r\n    }\r\n\r\n    render(){\r\n        let {name , price , urlImage , description , attr=[]} = this.state.product;\r\n        let {error_message}=this.state;\r\n        let {loading , error}=this.props;\r\n        if(error){\r\n            return (<Error/>);\r\n        }\r\n        const text=(\r\n            <div className=\"product_description\">\r\n                <h2 className=\"product_name\">\r\n                    {name}\r\n                </h2>\r\n                <span className=\"product_price\">${price}</span>\r\n\r\n                <p className=\"product_about\">{description}</p>\r\n\r\n                \r\n                    <ProductAttr data={attr} clickAttr={this.clickAttr}/>\r\n                \r\n                <ProductCounter changeCount={this.changeCount}/>\r\n                <div className=\"product_add_cart\">\r\n                    <button onClick={this.addClick} type=\"button\" className=\"btn btn-primary btn-single-add\" >\r\n                        <i className=\"fa fa-shopping-cart product-cart-icon\" aria-hidden=\"true\"></i> <span>Add to Cart</span>\r\n                    </button>\r\n                </div>\r\n                <p className=\"error-message\">\r\n                    {error_message}\r\n                </p>\r\n                \r\n\r\n            </div>\r\n        );\r\n\r\n        let img=loading ? <Spinner/> : <img src={urlImage} alt=\"Товары ReStore\"/>;\r\n        let descr=loading ? <Spinner/> : text;\r\n\r\n        return(\r\n            <PhoneSingle img={img} descr={descr}/>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps=({single , loading , error})=>{\r\n    return {\r\n        single , loading , error\r\n    };\r\n}\r\nconst mapDispatchToProps={\r\n     addProduct , addLoading , addError\r\n}\r\n\r\nexport default withDataPhone()(connect(mapStateToProps , mapDispatchToProps)(PhoneSingleContainer));","import App from './app';\r\n\r\nexport default App;","import React from 'react';\r\nimport Header from '../header';\r\nimport Shop from '../shop';\r\nimport Cart from '../cart';\r\nimport {withDataPhone} from '../hoc';\r\nimport {Route} from 'react-router-dom';\r\nimport PhoneSingle from '../page/phone-single';\r\n\r\n\r\nconst App=({phoneservice})=>{\r\n    return (\r\n        <div>\r\n\r\n            <Header/>\r\n            <Route exact path=\"/re-store/\" render={({history})=>{\r\n                 return(\r\n                     <div>\r\n                         <Shop data={phoneservice.getList()}/>\r\n                     </div>\r\n                 );\r\n            }}/> \r\n            <Route path=\"/re-store/cart/\" component={Cart}/> \r\n            <Route exact path=\"/re-store/shop/:id\" render={({match , history})=>{\r\n                let {id}=match.params;\r\n                return(<PhoneSingle id={id} history={history}/>);\r\n            }}/> \r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default withDataPhone()(App);","const initialState={\r\n    phones:[],\r\n    loading:true,\r\n    count_cart: 0,\r\n    total_price: 0,\r\n    cart:[],\r\n    error:null,\r\n};\r\n\r\nconst findCartItem=(id , state)=>{\r\n    let ind=state.cart.findIndex((item)=>id===item.id);\r\n    let cartItem=state.cart[ind];\r\n    return {\r\n        ind,cartItem\r\n    }\r\n}\r\nconst updateCount=(id , state , operation)=>{\r\n\r\n    let {ind  , cartItem}=findCartItem(id , state);\r\n\r\n    let {count , price}=cartItem;\r\n\r\n    let newProps={\r\n        count: operation === 'plus' ? ++count : --count,\r\n    }\r\n    let updateItem=Object.assign(cartItem , newProps);\r\n\r\n    // let total_price=state.total_price-price;\r\n    let total_price=operation === 'plus' ? state.total_price+price : state.total_price-price;\r\n\r\n    return {\r\n        ...state,\r\n        total_price,\r\n        cart:[\r\n            ...state.cart.slice(0 , ind),\r\n            updateItem,\r\n            ...state.cart.slice(ind+1),\r\n        ]\r\n    }\r\n}\r\nconst deleteCartItem=(id , state)=>{\r\n\r\n    let {ind  , cartItem}=findCartItem(id , state);\r\n    \r\n    let total_price=state.total_price-(cartItem.count*cartItem.price);\r\n    let count_cart=state.count_cart-cartItem.count;\r\n    return {\r\n        ...state,\r\n        total_price,\r\n        count_cart,\r\n        cart:[\r\n            ...state.cart.slice(0 , ind),\r\n            ...state.cart.slice(ind+1),\r\n        ]\r\n    }\r\n}\r\n\r\n\r\n\r\nconst reducer=(state=initialState , action)=>{\r\n    \r\n        switch(action.type){\r\n            case 'loading' : {\r\n                return {\r\n                    ...state,\r\n                    error:null,\r\n                    loading:action.loading,\r\n                }\r\n            }\r\n            case 'phone_loaded' : {\r\n                return {\r\n                    ...state,\r\n                    error:null,\r\n                    phones: action.payload,\r\n                    loading:false,\r\n                }\r\n            }\r\n            case 'error':{\r\n                return {\r\n                    ...state,\r\n                    loading:false,\r\n                    error: action.error,\r\n                }\r\n            }\r\n \r\n            case 'add_product' : {\r\n\r\n                let {product}=action;\r\n                let {price , count , id , name}=product;\r\n            \r\n                let count_cart=state.count_cart+count;\r\n                let total_price=state.total_price+(price*count);\r\n\r\n\r\n                let {ind  , cartItem}=findCartItem(id , state);\r\n\r\n                let newItem;\r\n                \r\n                if(cartItem){\r\n\r\n                    let recount=count+cartItem.count;\r\n                    // let reprice=(price*count)+cartItem.price;\r\n                    let reprice=cartItem.price;\r\n\r\n                    newItem={\r\n                        ...cartItem,\r\n                        count:recount,\r\n                        price:reprice,\r\n                    }\r\n                }\r\n                else{\r\n                    newItem={\r\n                        name,\r\n                        count,\r\n                        price,\r\n                        id,\r\n                    }\r\n                }\r\n\r\n                if(ind<0){\r\n                    return{\r\n                        ...state,\r\n                        count_cart,\r\n                        total_price,\r\n                        cart:[\r\n                            ...state.cart , newItem\r\n                        ]\r\n    \r\n                    }\r\n                }\r\n                else{\r\n                    return{\r\n                        ...state,\r\n                        count_cart,\r\n                        total_price,\r\n                        cart:[\r\n                            ...state.cart.slice(0 , ind),\r\n                            newItem,\r\n                            ...state.cart.slice(ind+1),\r\n                        ]\r\n    \r\n                    }\r\n                }\r\n                \r\n                \r\n    \r\n                \r\n\r\n            } \r\n\r\n            case 'minus_cart':{\r\n                let {id}=action;\r\n                return updateCount(id , state , 'minus');\r\n            }\r\n\r\n            case 'plus_cart':{\r\n                let {id}=action;\r\n                return updateCount(id , state , 'plus');\r\n            }\r\n\r\n            case 'delete_cart':{\r\n                return deleteCartItem(action.id , state);\r\n            }\r\n            default : return state;\r\n        }\r\n\r\n    \r\n}\r\n\r\nexport {reducer};","import React from 'react';\nimport ReactDom from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport App from './components/app';\nimport {Provider} from 'react-redux';\n\nimport {createStore} from 'redux';\nimport {reducer} from './reducers'\nimport {PhoneProvider} from './components/phone-context';\nimport PhoneService from './service/phone-service';\n\n\nconst store = createStore(reducer);\nconst service=new PhoneService();\n\nlet shop=document.getElementById('main-content');\n\nReactDom.render(\n    <Provider store={store}>\n        <PhoneProvider value={service}>\n            <Router>\n                <App/>\n            </Router>\n        </PhoneProvider>\n    </Provider>\n, shop);","\r\nexport default class PhoneService {\r\n\r\n    phones=[\r\n        {\r\n            name: 'Xiaomi mi a1',\r\n            price: 300,\r\n            urlImage: '/image/3.jpg',\r\n            id: 1,\r\n            attr:['Black', 'Blue' , 'Gold'],\r\n            description: \"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quidem eos modi adipisci cupiditate culpa distinctio porro ad sit at dolorem.\"\r\n        },\r\n        {\r\n            name: 'Samsung s10 note',\r\n            price: 1000,\r\n            urlImage: '/image/2.jpg',\r\n            id:2,\r\n            attr:['Black', 'Blue' , 'Gold' , 'Silver'],\r\n            description: \"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quidem eos modi adipisci cupiditate culpa distinctio porro ad sit at dolorem.\"\r\n        },\r\n        {\r\n            name: 'Honor p20',\r\n            price: 400,\r\n            urlImage: '/image/3.jpg',\r\n            id:3,\r\n            attr:['Black', 'Blue'],\r\n            description: \"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quidem eos modi adipisci cupiditate culpa distinctio porro ad sit at dolorem.\"\r\n        },\r\n        {\r\n            name: 'Honor p30',\r\n            price: 500,\r\n            urlImage: '/image/3.jpg',\r\n            id:4,\r\n            attr:['Black', 'Blue'],\r\n            description: \"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quidem eos modi adipisci cupiditate culpa distinctio porro ad sit at dolorem.\"\r\n        }\r\n    ]\r\n\r\n    getList=()=>{\r\n        let data=this.phones.map(this.transformPhone);\r\n        return new Promise((resolve , reject)=>{\r\n            setTimeout(()=>{\r\n                resolve(data);\r\n                // reject(new Error('Something bad happened'));\r\n            } , 300);\r\n        });\r\n    }\r\n    getPhone=(id)=>{\r\n        let obj={};\r\n        this.phones.forEach((item)=>{\r\n            if(item.id==id){\r\n                obj=item;\r\n            }   \r\n        });\r\n        return new Promise((resolve , reject)=>{\r\n            setTimeout(()=>{\r\n               resolve(obj);\r\n            //    reject(new Error('Something bad happened'));\r\n            }, 300);\r\n        });\r\n\r\n    }\r\n\r\n    transformPhone=(item)=>{\r\n        return {\r\n            name:item.name,\r\n            price: item.price,\r\n            urlImage: item.urlImage,\r\n            id: item.id\r\n        }\r\n    }\r\n}"],"sourceRoot":""}